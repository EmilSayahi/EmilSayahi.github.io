<head>
     <meta charset="UTF-8">
	 <title>Liech.ga Links</title>
    <style>
    .active {
  cursor: default;
  text-decoration: none;
}     
    
body {
	font:16px/1 "Helvetica Neue", Helvetica, Arial, sans-serif;
	color: #666;
	-webkit-font-smoothing: antialiased;
	text-rendering: optimizeLegibility;

}

h1 {
	font-size: 30px;
	letter-spacing: -1px;
	color: #222;
	font-weight: bold;
}

h2 {
	font: normal 17px/1.5em "Helvetica Neue",Helvetica,Arial,sans-serif;
    color: #aaa;
}

text.small {
	color: #bbb;
	font-size: 14px;
	line-height: 1.5;
	//display: block;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    <script>
$(document).ready(function(){
         

    //$("button").click(function(){
        $.getJSON("https://api.github.com/repos/emilsayahi/emilsayahi.github.io/contents/link", function(result) {
            //var $ul = $('#ul')
			
            $.each(result, function(i, item){
                var $path_rest = item.path.replace(item.name, "")   ; 
    if (item.size < 1000000) {            
$.getJSON("https://api.github.com/repos/EmilSayahi/emilsayahi.github.io/contents/" + item.path, function(f_result) {
//				$.each(f_result, function(i, f_item){
                    var $file_base64 = f_result.content.replace("\n", "");
                    console.log(f_result.name);
                    console.log($path_rest);
                    console.log(f_result.message);         
                if (item.size < 1000000) {
                    var $file_url = "data:application/octet-stream;base64," + $file_base64   ;
                } else if (item.size > 1000000) {    
                    var $file_url = "https://liech.ga/" + $path_rest + item.name  ;
                }
                    //});
    //});
                
                $("ul").append('<p>◾ <text class="small">' + $path_rest + '</text><a id="' + item.sha + '-file_link" class="active" href="' + $file_url + '"' + 'title="' + "SHA-1 of Git commit: " + item.sha + '" download="' + item.name + '" target="_blank" type="application/octet-stream">' + item.name + '</a>' + ' - <strong>' + item['type'] + '</strong><text class="small"> [' + item.size + ' characters]</text>' + '</li></p>')
                var colors = ['#222', '#666', 'rgb(255,59,48)', 'rgb(255,149,0)', 'rgb(0,122,255)', 'rgb(88,86,214)', 'rgb(255,45,85)'];
var randomColor = colors[Math.floor(Math.random() * colors.length)];
$('a:link, a:visited, a:hover, a:active').css('color', randomColor);
               
            })
            
        } else {
            var $file_url = "https://liech.ga/" + $path_rest + item.name  ;
                            $("ul").append('<p>◾ <text class="small">' + $path_rest + '</text><a id="' + item.sha + '-file_link" class="active" href="' + $file_url + '"' + 'title="' + "SHA-1 of Git commit: " + item.sha + '" download="' + item.name + '" target="_blank" type="application/octet-stream">' + item.name + '</a>' + ' - <strong>' + item['type'] + '</strong><text class="small"> [' + item.size + ' characters]</text>' + '</li></p>')
                var colors = ['#222', '#666', 'rgb(255,59,48)', 'rgb(255,149,0)', 'rgb(0,122,255)', 'rgb(88,86,214)', 'rgb(255,45,85)'];
var randomColor = colors[Math.floor(Math.random() * colors.length)];
$('a:link, a:visited, a:hover, a:active').css('color', randomColor);
        }
    });
                });
            });
//});
    </script>
</head>
<body>
<h1>The link index.</h1>
<noscript> 
<a href="https://github.com/EmilSayahi/emilsayahi.github.io/tree/master/link">Browse … </a> 
<!-- <br> --> 
</noscript>
<!-- <button type="button">List files  … </button> -->
<ul style="color: #aaa"></ul>
    <!-- <script>
var colors = ['#222', '#666', 'rgb(255,59,48)', 'rgb(255,149,0)', 'rgb(255,204,0)', 'rgb(76,217,100)', 'rgb(90,200,250)', 'rgb(0,122,255)', 'rgb(88,86,214)', 'rgb(255,45,85)'];
var randomColor = colors[Math.floor(Math.random() * colors.length)];
$('a:link, a:visited, a:hover, a:active').css('color', randomColor);
</script> -->
</body>